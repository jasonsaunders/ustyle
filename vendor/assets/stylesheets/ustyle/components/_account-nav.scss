// Account navigation
// ---
//
//
$account-navigation-background: $c-navy !default;
$account-navigation-active-color: $c-cyan !default;
$account-navigation-links: account, energy, car-insurance, settings !default;
$account-navigation-icons: "\e04d", "\e04a", "\e001", "\2731" !default;
$account-navigation-arrows: #fff, $c-cyan, $c-keylinegrey, $c-cyan !default;
$account-navigation-number: length($account-navigation-links);
$account-settings-width: 54px !default;
$account-settings-padding: $gutter-width / 2 !default;

.us-account-nav {
  background-color: $account-navigation-background;
  border-bottom: 5px solid #fff;
}

.us-account-nav__container {
  @extend %container;

  @include respond-to(mobile) {
    padding: 0;
  }
}

// We push the container the width of the settings link so everything fits
.us-account-nav__container-push {
  @extend %clearfix;

  @include respond-to(tablet, true) {
    padding-right: $account-settings-width;
  }
}

.us-account-nav__link {
  @include normal-font;
  @include link-colors(#fff, $c-cyan, #fff, #fff);
  @include heading(4);
  position: relative;
  display: block;
  float: left;
  width: col-width($grid-columns / $account-navigation-number);
  padding-top: .75em;
  padding-bottom: .75em;
  text-align: center;
  border-right: 1px solid lighten($account-navigation-background, 10%);

  @include respond-to(tablet, true) {
    padding-top: 1.5em;
    padding-bottom: 1.5em;

    &:before {
      display: none;
    }
  }

  &:before {
    @extend %icon-font;
    display: inline-block;
    font-size: 1.25em;
    vertical-align: middle;
  }
}

.us-account-nav__link-text {
  display: none;

  @include respond-to(tablet, true) {
    display: inherit;
  }
}

.us-account-nav__link--active {
  color: $account-navigation-active-color;

  &:after {
    @include arrow(16px, 8px, up, #fff);
    position: absolute;
    bottom: 0;
    left: 50%;
    display: block;
    margin-left: -8px;
    content: "";
    
    @include respond-to(tablet, true) {
      @include arrow(22px, 12px, up, #fff);
      margin-left: -12px;
    }
  }
}

@each $link in $account-navigation-links {
  .us-account-nav--#{$link} {
    &:before {
      content: nth($account-navigation-icons, index($account-navigation-links, $link));
    }
  }
}

// Settings link

.us-account-nav--settings {
  padding-right: $account-settings-padding;
  padding-left: $account-settings-padding;
  border-right: 0;
  border-left: 1px solid lighten($account-navigation-background, 10%);

  @include respond-to(tablet, true) {
    position: absolute;
    right: $account-settings-padding;
    width: $account-settings-width;
  }

  &:before {
    display: inline-block !important;

    @include respond-to(tablet, true) {
      line-height: .5em;
    }
  }

  .us-account-nav__link-text {
    display: none;
  }

  &.us-account-nav__link--active {
    &:before {
      color: $account-navigation-active-color;
    }
  }
}
