+keyframes(anchor-show)
  0%
    +transform(scale(0) translateZ(0))

  100%
    +transform(scale(1) translateZ(0))

.us-anchor,
.us-anchor__target
  display: none

.us-anchor
  +transform(translateZ(0))
  +transition(opacity 300ms)
  opacity: 0.999

.us-anchor
  .us-anchor__target
    display: block

.us-anchor--open
  display: block
  
  .us-anchor__content
    +animation(anchor-show, 300ms)

.us-anchor--after-open
  +transition(none)
  opacity: 1

.us-anchor__content
  @extend %default-font
  +border-radius(em(8px))
  +transition(transform 300ms 100ms)
  +transform-origin(50%, -12px)
  border: 1px solid $c-darkgrey
  background-color: white
  position: relative
  padding: $gutter-width/2 $gutter-width/2 $gutter-width
  max-width: 98%
  left: 1%

  +respond-to(tablet, true)
    left: auto
    padding: $gutter-width/1.25 $gutter-width/1.5 $gutter-width

.us-anchor__arrow
  position: absolute
  z-index: 5
  +arrow(35px, 15px, up, $c-darkgrey)
  top: -15px
  margin-left: -17.5px

.us-anchor__arrow-inner
  +arrow(35px, 15px, up, white)
  position: absolute
  left: -17px
  top: 2px