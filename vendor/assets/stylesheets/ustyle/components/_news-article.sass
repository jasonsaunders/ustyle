// News article item
// ---
// The news item article standard. Built with .us-news-item. Is initially a 3col item
// that drops down to 6col and then full width at mobile - without the image. 
// The news item image is a background image as the problem of not displaying 
// <img> tags on mobile hasn't been resolved.
//
// Styleguide 4.1

$item-padding: em(9px)
$news-item-image-size: 128px !default

%readmore-link
  +normal-font
  +link-colors($c-typecyan, $c-typecyan, $c-typecyan, $c-typecyan)
  border-bottom: 1px solid $c-typecyan

%readmore
  position: absolute
  bottom: 0
  left: 0
  right: 0
  white-space: nowrap
  color: $c-typecyan
  &:after
    @extend %link-triangle

%base-item
  @extend %us-col-md-6
  @extend %us-col-lg-3
  +trailer(1)

%base-item-link
  @extend %bordered-box
  @extend %backface-visibility
  +transition(border-color 333ms, background-color 333ms)
  display: block
  background-color: white
  text-decoration: none
  position: relative

%base-item-image
  @extend %backface-visibility
  +transition(opacity 333ms)
  +border-top-radius(em(5px))
  width: 100%
  height: auto

  &.background
    background-repeat: no-repeat
    background-position: center center
    +background-size(cover)

.us-news-item
  @extend %base-item
  overflow: hidden
  
  &:hover
    .us-news-item-image
      +opacity(0.8)

    %readmore
      &:after
        left: 0.5em

.us-news-item-link
  @extend %base-item-link
  padding-bottom: em(35px)

.us-news-item-title
  @extend %heading-4
  +transition(color 333ms)
  color: $c-navy

.us-news-meta
  padding: $item-padding

  .category,
  .date
    +adjust-font-size-to(13px)
    padding-top: em(4px)
    padding-bottom: em(4px)

    +respond-to(large-desktop)
      +adjust-font-size-to(14px)

  .category
    padding-left: $item-padding
    padding-right: $item-padding
    border-radius: em(3px)
    background-color: $c-typecyan
    color: white

  .date
    float: right
    display: block
    color: $c-navy
    
.us-news-item-title
  padding: $item-padding

.us-news-item-snippet
  +adjust-font-size-to(14px, 0.75)
  padding: 0 $item-padding
  color: $c-navy

.us-news-item-image-container
  display: none

  +respond-to(small-tablet, true)
    display: block

.us-news-item-image
  @extend %base-item-image

  &.background
    height: $news-item-image-size

.us-news-item-readmore
  @extend %readmore
  padding: $item-padding
  border-top: 1px solid $grey-10

.us-news-item-readmorelink
  @extend %readmore-link