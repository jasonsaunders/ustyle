// Form validation
// ---
// Validation message and input styling provides a consistent look and feel to uStyle forms.
//
// Styleguide 2.5

$message-padding-vertical: 0.35em
$message-padding-horizontal: 0.5em
$message-min-height: 2.4em
$message-triangle-size: em(10px)
$icon-size: em(28px)

$message-info-color: $c-typecyan
$message-info-background-color: #fff
$message-info-icon: '\e037'
$message-info-icon-color: #fff

$message-error-color: $c-red
$message-error-background-color: #fef9f9
$message-error-icon: '\e01a'
$message-error-icon-color: #fff

=validation-style($color: $message-info-color, $background-color: $message-info-background-color, $icon: $message-info-icon, $icon-color: $message-info-icon-color, $text-color: $c-darkgrey)
  .us-validation-message
    color: $text-color
    background-color: $background-color
    border-color: $color

    &:before,
    &:after
      border-color: $color

    &:after
      border-right-color: $background-color

  .us-validation-icon
    color: $icon-color
    background-color: $color

    &:before
      content: $icon

.us-validation
  padding: 0.25em 0 0.25em ($icon-size + $message-triangle-size + em(5px))
  position: relative

.us-validation-message
  padding: $message-padding-vertical $message-padding-horizontal
  min-height: $message-min-height
  border-width: 1px
  border-style: solid
  border-radius: 3px
  position: relative

  &:before,
  &:after
    border-width: $message-triangle-size
    border-style: solid
    border-top-color: transparent !important
    border-bottom-color: transparent !important
    border-left-width: 0
    content: ' '
    position: absolute
    top: 8px
    left: -$message-triangle-size

  &:after
    left: -$message-triangle-size + em(1px)

.us-validation-icon
  @extend %icon-font
  width: 1em
  height: 1em
  font-size: $icon-size
  line-height: 1
  border-radius: 50%
  position: absolute
  top: 10px
  left: 0

.us-validation,
.us-validation.info
  +validation-style()

.us-validation.error
  +validation-style($message-error-color, $message-error-background-color, $message-error-icon, $message-error-icon-color, $message-error-color)
