// Form validation
// ---
// Validation message and input styling provides a consistent look and feel to uStyle forms.
//
// Styleguide 2.5

$message-padding-vertical: 0.35em
$message-padding-horizontal: 1em
$message-min-height: 2.4em
$message-triangle-size: 10px
$icon-size: 26px

$message-info-color: $c-typecyan
$message-info-background-color: #fff
$message-info-icon: '\69'
$message-info-icon-color: #fff

$message-error-color: $c-red
$message-error-background-color: #fef9f9
$message-error-icon: '\2718'
$message-error-icon-color: #fff

$message-success-color: $c-green
$message-success-background-color: #fff
$message-success-icon: '\2714'
$message-success-icon-color: #fff

=validation-style($color: $message-info-color, $background-color: $message-info-background-color, $icon: $message-info-icon, $icon-color: $message-info-icon-color, $text-color: $c-darkgrey)
  .us-validation-message
    color: $text-color
    background-color: $background-color
    border-color: $color

    &:before,
    &:after
      border-color: $color

    &:after
      border-right-color: $background-color

  .us-validation-icon
    color: $icon-color
    background-color: $color

    &:before
      content: $icon

.us-validation
  padding: 0.25em 0 0.25em ($icon-size + 5)
  position: relative

.us-validation-message
  margin: 0 0 0 $message-triangle-size
  padding: $message-padding-vertical $message-padding-horizontal
  min-height: $message-min-height
  line-height: 1.5
  border-width: 1px
  border-style: solid
  border-radius: 3px
  position: relative

  &:before,
  &:after
    border-width: $message-triangle-size
    border-style: solid
    border-top-color: transparent !important
    border-bottom-color: transparent !important
    border-left-width: 0
    content: ' '
    position: absolute
    top: 8px
    left: -$message-triangle-size

  &:after
    left: -$message-triangle-size + 1

.us-validation-icon
  @extend %icon-font
  width: $icon-size
  height: $icon-size
  text-align: center
  font-size: $base-font-size
  line-height: $icon-size
  border-radius: 50%
  position: absolute
  top: 10px
  left: 0

.us-validation,
.us-validation.info
  +validation-style()

.us-validation.error
  +validation-style($message-error-color, $message-error-background-color, $message-error-icon, $message-error-icon-color, $message-error-color)

.us-validation.success
  +validation-style($message-success-color, $message-success-background-color, $message-success-icon, $message-success-icon-color, $message-success-color)
