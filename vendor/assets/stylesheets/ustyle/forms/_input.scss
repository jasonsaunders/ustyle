// @page Pattern Library/Forms
// @name Inputs
//
// @description
//   Our standard input styling across the website. This is specifically for type text and textarea.
//
//   #### Best practices
//   * Specifying an appropriate [type attribute](https://developer.mozilla.org/en/docs/Web/HTML/Element/Input#attr-type) (e.g. type="tel" for telephone number fields) will not only control what input is displayed, but also helps mobile devices select a keyboard layout suitable for entering that type of data.
//   * Where appropriate use the [autocomplete attribute](https://developer.mozilla.org/en/docs/Web/HTML/Element/Input#attr-autocomplete) to make it easier for the browser to fill in fields on the users behalf, saving them time on lengthy forms.
//
// @state .us-form-input--large - Larger input style
// @state .us-form-input--blocked - Fluid input style
// @state .us-form-input--error - Visual feedback for when the input has an error
// @state .us-form-input--success - Visual feedback for when success needs to be communicated to the user
// @state .us-form-input--disabled - Inactive state for form inputs that can't be interacted with
//
// @markup
//   <input class="us-form-input {$modifiers}" type="text" placeholder="Placeholder">

$input-hover-color: $c-typecyan !default;
$input-error-color: $c-red !default;
$input-success-color: $c-green !default;
$input-text-color: $c-typegrey !default;
$input-border-color: $c-inputgrey !default;
$input-placeholder-color: $c-inputgrey !default;
$input-disabled-color: #ddd !default;
$input-disabled-background-color: #fafafa !default;

@mixin placeholder {
  &::-webkit-input-placeholder {
    @content;
  }

  &::-moz-placeholder {
    @content;
    opacity: 1;
  }

  &:-ms-input-placeholder {
    @content;
  }
}

@mixin input-style($border-color) {
  &:hover,
  &:focus,
  &:checked {
    border-color: $border-color;
  }

  &:focus {
    box-shadow: inset 0 0 0 1px $border-color;
  }
}

.us-form-input {
  @extend %base-form-element;
  @extend %input-background--normalise;
  @include input-style($input-hover-color);
  height: $form-element-base-height;
  padding: .35em .5em;
  font-size: 1em;
  color: $input-text-color;
  border: 1px solid $input-border-color;
  outline: 0;
  box-shadow: none;

  @include placeholder {
    color: $input-placeholder-color;
  }

  &:focus {
    @include placeholder {
      color: darken($input-placeholder-color, 15%);
    }
  }

  .ie8 & {
    height: auto;
  }
}

.us-form-input--large {
  height: 48px;
  padding: .55em .5em;
  font-size: 1.2em;
}

.us-form-input--blocked {
  width: 100%;
}

.us-form-input--error {
  @include input-style($input-error-color);
  border-color: $input-error-color;
}

.us-form-input--success {
  @include input-style($input-success-color);
  border-color: $input-success-color;
}

%us-form-input--disabled,
.us-form-input:disabled,
.us-form-input--disabled {
  @include input-style($input-disabled-color);
  color: $input-disabled-color;
  background-color: $input-disabled-background-color;
  border-color: $input-disabled-color;

  @include placeholder {
    color: $input-disabled-color;
  }

  &:focus {
    box-shadow: none;

    @include placeholder {
      color: $input-disabled-color;
    }
  }
}
