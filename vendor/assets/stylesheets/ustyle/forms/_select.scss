// @page Pattern Library/Forms
// @name Selects
//
// @description
//   Select boxes allow users to choose and option or options from a list of options.
//
//   #### Best practices
//   * Use select boxes when choosing one or more options from a list of related, but mutually exclusive options e.g. profession, title, month.
//   * It can be tempting to put many things in a select box for users to choose from. Try to keep the list of options to between 4 and 15 so the user doesn't become overwhelmed with choices.
//
// @state .us-form-select-wrap--multiple - Removes the drop down arrow and adjusts the padding of <option> elements. Useful when using <select> elements that have the size="" attribute set to anything higher than 1.
// @state .us-form-select-wrap--blocked - Fluid style
// @state .us-form-select-wrap--disabled - Inactive state for select boxes. You may also just add the disabled attribute to the <select> element in order to achieve the same effect.
//
// @markup
//   <span class="us-form-select-wrap {$modifiers}">
//     <select class="us-form-select">
//       <option>A select menu</option>
//       <option>With lots of options</option>
//       <option>And a few more</option>
//     </select>
//   </span>

$select-base-padding: .3em .6em !default;
$select-base-height: $form-element-base-height !default;
$select-border-color: $c-inputgrey !default;
$select-hover-color: $c-typecyan !default;

.us-form-select-wrap {
  position: relative;
  display: inline-block;

  &:after {
    @include arrow($width: 10px, $height: 6px, $direction: 'down', $color: $select-border-color);
    position: absolute;
    top: 50%;
    right: 15px;
    width: 0;
    height: 0;
    margin-top: -3px;
    pointer-events: none;
    content: " ";
  }

  &:hover {
    &:after {
      border-top-color: $select-hover-color;
    }
  }

  .ie8 &,
  .ie9 & {
    .us-form-select {
      padding: $select-base-padding;
    }

    &:after {
      display: none;
    }
  }
}

.us-form-select-wrap--multiple {
  &:after {
    display: none;
  }

  .us-form-select {
    height: auto;
    padding: $select-base-padding;
    overflow: auto;
    vertical-align: middle;
    cursor: default;
  }

  option {
    padding: .3em 5px;
    cursor: pointer;
  }
}

.us-form-select {
  @extend %base-form-element;
  position: relative;
  width: 100%;
  padding: $select-base-padding;
  padding-right: 40px;
  cursor: pointer;
  background: #fff;
  border: 1px solid $select-border-color;
  outline: 0;

  &:hover,
  &:focus {
    border-color: $select-hover-color;
  }

  &:focus {
    box-shadow: inset 0 0 0 1px $select-hover-color;

    &:-moz-focusring {
      color: transparent;
      text-shadow: 0 0 0 $c-typegrey;
    }
  }

  &::-ms-expand {
    display: none;
  }
}

.us-form-select-wrap--blocked {
  width: 100%;
}

.us-form-select-wrap--disabled {
  .us-form-select,
  .us-form-select:disabled {
    @include input-disabled;
  }

  &:after,
  &:hover:after {
    border-top-color: $c-input-disabled-foreground;
  }
}
