// @page Pattern Library/Forms
// @name Selects
//
// @description
//   Select boxes allow users to choose and option or options from a list of options.
//
//   #### Best practices
//   * Use select boxes when choosing between related, independent options e.g. profession, title, month.
//   * It can be tempting to have many things in the list that a user can choose from. Try to keep the list of options to more than 4, but less than 15 so the user doesn't have to spend too long deciding what to pick.
//
// @state .us-form-select-wrap--scrollable - Removes the drop down arrow and adjusts the padding of <option> elements. Useful when using <select> elements that have the size="" attribute set to anything higher than 1.
//
// @markup
//   <span class="us-form-select-wrap {$modifiers}">
//     <select class="us-form-select">
//       <option>A select menu</option>
//       <option>With lots of options</option>
//       <option>And a few more</option>
//     </select>
//   </span>

$select-base-padding: .3em .6em !default;
$select-base-height: $form-element-base-height !default;
$select-border-color: $c-inputgrey !default;
$select-hover-color: $c-typecyan !default;

.us-form-select-wrap {
  position: relative;
  display: inline-block;

  &:after {
    @include arrow($width: 10px, $height: 6px, $direction: 'down', $color: $select-border-color);
    position: absolute;
    top: 50%;
    right: 15px;
    width: 0;
    height: 0;
    margin-top: -3px;
    pointer-events: none;
    content: " ";
  }
}

.us-form-select-wrap--scrollable {
  &:after {
    display: none;
  }

  .us-form-select {
    height: auto;
    padding: $select-base-padding;
    overflow: auto;
    vertical-align: middle;
    cursor: default;
  }

  option {
    padding: .3em 2px;
    cursor: pointer;
  }
}

.us-form-select {
  @extend %base-form-element;
  position: relative;
  width: 100%;
  height: $select-base-height;
  padding: $select-base-padding;
  padding-right: 40px;
  cursor: pointer;
  background-color: #fff;
  border: 1px solid $select-border-color;
  outline: 0;

  @include respond-to($default-grid-breakpoint, true) {
    width: auto;
  }

  &:hover,
  &:focus {
    border-color: $select-hover-color;
  }

  &:focus {
    box-shadow: inset 0 0 0 1px $select-hover-color;

    &:-moz-focusring {
      color: transparent;
      text-shadow: 0 0 0 $c-typegrey;
    }
  }

  &::-ms-expand {
    display: none;
  }

  .ie8 & {
    height: auto;
  }
}
